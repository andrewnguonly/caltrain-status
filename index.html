<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Caltrain Status</title>
    <meta
      name="description"
      content="Caltrain service status page with uptime tracking and incident history."
    />
    <meta name="theme-color" content="#DD1F29" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="shortcut icon" href="favicon.svg" />

    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Caltrain Status" />
    <meta property="og:title" content="Caltrain Service Status" />
    <meta
      property="og:description"
      content="Live Caltrain service status, uptime, and incident history."
    />
    <meta property="og:url" content="https://andrewnguonly.github.io/caltrain-status/" />
    <meta
      property="og:image"
      content="https://andrewnguonly.github.io/caltrain-status/social-card.svg"
    />
    <meta property="og:image:alt" content="Caltrain Status - uptime and incident history" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Caltrain Service Status" />
    <meta
      name="twitter:description"
      content="Live Caltrain service status, uptime, and incident history."
    />
    <meta
      name="twitter:image"
      content="https://andrewnguonly.github.io/caltrain-status/social-card.svg"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-grid" aria-hidden="true"></div>
    <main class="page-shell">
      <header class="hero panel">
        <div>
          <p class="eyebrow">Transit Reliability Monitor</p>
          <h1>Caltrain Service Status</h1>
          <p id="statusHeadline" class="headline loading">Loading current status...</p>
        </div>
        <div class="hero-meta">
          <div id="overallPill" class="status-pill status-pill--loading">Checking</div>
          <p class="muted">Auto-refresh every 60 seconds</p>
          <p id="lastRefreshed" class="muted mono">Last refresh: --</p>
        </div>
      </header>

      <section class="metrics-grid" aria-label="Uptime metrics">
        <article class="panel metric-card">
          <p class="metric-label">24h uptime</p>
          <p id="uptime24h" class="metric-value">--</p>
          <p class="metric-note">Rolling estimate from incident durations</p>
        </article>
        <article class="panel metric-card">
          <p class="metric-label">30d uptime</p>
          <p id="uptime30d" class="metric-value">--</p>
          <p class="metric-note">Customer-facing service availability</p>
        </article>
        <article class="panel metric-card">
          <p class="metric-label">90d uptime</p>
          <p id="uptime90d" class="metric-value">--</p>
          <p class="metric-note">Trend used for reliability baseline</p>
        </article>
      </section>

      <section class="panel">
        <div class="section-head">
          <h2>Recent Service Days</h2>
          <p class="muted">Color shows daily uptime</p>
        </div>
        <div id="dayStrip" class="day-strip" aria-label="Daily uptime strip"></div>
      </section>

      <section class="panel">
        <div class="section-head">
          <h2>Incident History</h2>
          <p class="muted">Recent delays, disruptions, and recoveries</p>
        </div>
        <ol id="incidentTimeline" class="timeline"></ol>
      </section>

      <section class="panel">
        <div class="section-head">
          <h2>Uptime Trend</h2>
          <p class="muted">Monthly service availability percentage</p>
        </div>
        <div id="uptimeChart" class="uptime-chart loading-chart" role="img" aria-label="Uptime trend chart"></div>
      </section>

      <footer class="site-footer" aria-label="Project links">
        <a
          href="https://github.com/andrewnguonly/caltrain-status"
          target="_blank"
          rel="noopener noreferrer"
          class="mono"
        >
          <svg
            class="github-mark"
            viewBox="0 0 16 16"
            aria-hidden="true"
            focusable="false"
          >
            <path
              fill="currentColor"
              d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82A7.65 7.65 0 0 1 8 4.84c.68 0 1.37.09 2.01.27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8Z"
            />
          </svg>
          View source on GitHub
        </a>
        <span class="site-footer-sep mono" aria-hidden="true">|</span>
        <a
          href="https://www.caltrain.com/"
          target="_blank"
          rel="noopener noreferrer"
          class="mono"
        >
          Caltrain
        </a>
      </footer>
    </main>

    <script src="app.js" defer></script>
  </body>
  </html>
